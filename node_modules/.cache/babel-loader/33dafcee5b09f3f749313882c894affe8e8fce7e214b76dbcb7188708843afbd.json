{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\OneDrive\\\\Documents\\\\GitHub\\\\Campuscrush\\\\src\\\\pages\\\\ReferralPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { auth, db } from '../firebase/firebaseConfig';\nimport { doc, getDoc } from 'firebase/firestore';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReferralPage() {\n  _s();\n  const [code, setCode] = useState('');\n  const [purchases, setPurchases] = useState(0);\n  const [claimed, setClaimed] = useState(false);\n  useEffect(() => {\n    const fetchReferral = async () => {\n      const user = auth.currentUser;\n      const docSnap = await getDoc(doc(db, 'users', user.uid));\n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        setCode(data.referralCode);\n        setPurchases(data.referredPurchases || 0);\n        setClaimed(data.rewardsClaimed || false);\n      }\n    };\n    fetchReferral();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-2xl font-bold\",\n      children: \"\\uD83C\\uDF81 Referral Program\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4\",\n      children: \"Invite friends using this code:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-200 rounded p-2 mt-2\",\n      children: code\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: purchases\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this), \" referred friends have purchased.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), claimed ? /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-green-600 mt-2\",\n      children: \"\\u2705 Reward already claimed!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-blue-600 mt-2\",\n      children: \"Refer 3 friends. If 2 buy, you get 1 coin \\uD83C\\uDF89\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 5\n  }, this);\n}\n_s(ReferralPage, \"ZNLYOr+lW5Cvt0QNuluGwDr+Zhk=\");\n_c = ReferralPage;\nvar _c;\n$RefreshReg$(_c, \"ReferralPage\");","map":{"version":3,"names":["React","useEffect","useState","auth","db","doc","getDoc","jsxDEV","_jsxDEV","ReferralPage","_s","code","setCode","purchases","setPurchases","claimed","setClaimed","fetchReferral","user","currentUser","docSnap","uid","exists","data","referralCode","referredPurchases","rewardsClaimed","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/User/OneDrive/Documents/GitHub/Campuscrush/src/pages/ReferralPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { auth, db } from '../firebase/firebaseConfig';\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\nexport default function ReferralPage() {\r\n  const [code, setCode] = useState('');\r\n  const [purchases, setPurchases] = useState(0);\r\n  const [claimed, setClaimed] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchReferral = async () => {\r\n      const user = auth.currentUser;\r\n      const docSnap = await getDoc(doc(db, 'users', user.uid));\r\n      if (docSnap.exists()) {\r\n        const data = docSnap.data();\r\n        setCode(data.referralCode);\r\n        setPurchases(data.referredPurchases || 0);\r\n        setClaimed(data.rewardsClaimed || false);\r\n      }\r\n    };\r\n    fetchReferral();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"p-6 text-center\">\r\n      <h2 className=\"text-2xl font-bold\">üéÅ Referral Program</h2>\r\n      <p className=\"mt-4\">Invite friends using this code:</p>\r\n      <div className=\"bg-gray-200 rounded p-2 mt-2\">{code}</div>\r\n\r\n      <p className=\"mt-4\">\r\n        <strong>{purchases}</strong> referred friends have purchased.\r\n      </p>\r\n      {claimed ? (\r\n        <p className=\"text-green-600 mt-2\">‚úÖ Reward already claimed!</p>\r\n      ) : (\r\n        <p className=\"text-blue-600 mt-2\">Refer 3 friends. If 2 buy, you get 1 coin üéâ</p>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,IAAI,EAAEC,EAAE,QAAQ,4BAA4B;AACrD,SAASC,GAAG,EAAEC,MAAM,QAAQ,oBAAoB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjD,eAAe,SAASC,YAAYA,CAAA,EAAG;EAAAC,EAAA;EACrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAE7CD,SAAS,CAAC,MAAM;IACd,MAAMgB,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,MAAMC,IAAI,GAAGf,IAAI,CAACgB,WAAW;MAC7B,MAAMC,OAAO,GAAG,MAAMd,MAAM,CAACD,GAAG,CAACD,EAAE,EAAE,OAAO,EAAEc,IAAI,CAACG,GAAG,CAAC,CAAC;MACxD,IAAID,OAAO,CAACE,MAAM,CAAC,CAAC,EAAE;QACpB,MAAMC,IAAI,GAAGH,OAAO,CAACG,IAAI,CAAC,CAAC;QAC3BX,OAAO,CAACW,IAAI,CAACC,YAAY,CAAC;QAC1BV,YAAY,CAACS,IAAI,CAACE,iBAAiB,IAAI,CAAC,CAAC;QACzCT,UAAU,CAACO,IAAI,CAACG,cAAc,IAAI,KAAK,CAAC;MAC1C;IACF,CAAC;IACDT,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACET,OAAA;IAAKmB,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BpB,OAAA;MAAImB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAC;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC3DxB,OAAA;MAAGmB,SAAS,EAAC,MAAM;MAAAC,QAAA,EAAC;IAA+B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eACvDxB,OAAA;MAAKmB,SAAS,EAAC,8BAA8B;MAAAC,QAAA,EAAEjB;IAAI;MAAAkB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAE1DxB,OAAA;MAAGmB,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACjBpB,OAAA;QAAAoB,QAAA,EAASf;MAAS;QAAAgB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAS,CAAC,qCAC9B;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,EACHjB,OAAO,gBACNP,OAAA;MAAGmB,SAAS,EAAC,qBAAqB;MAAAC,QAAA,EAAC;IAAyB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAEhExB,OAAA;MAAGmB,SAAS,EAAC,oBAAoB;MAAAC,QAAA,EAAC;IAA4C;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAClF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAACtB,EAAA,CAnCuBD,YAAY;AAAAwB,EAAA,GAAZxB,YAAY;AAAA,IAAAwB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}